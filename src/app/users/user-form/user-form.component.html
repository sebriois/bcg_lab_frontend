<div class="modal-body" *ngIf="user">
  <form (submit)="updateOrCreate()">
    <div class="form-group">
      <label for="username">Identifiant</label>
      <input type="text" name="username" id="username" class="form-control" [(ngModel)]="user.username">
      <small class="text-muted">Requis. 150 caractères ou moins. Lettres, chiffres et @/./+/-/_ seulement.'</small>
    </div>

    <div class="form-group">
      <label for="password">Mot de passe</label>
      <input type="password" name="password" id="password" class="form-control" [(ngModel)]="user.password">
    </div>

    <div class="form-group">
      <label for="first_name">Prénom</label>
      <input type="text" name="first_name" id="first_name" class="form-control" [(ngModel)]="user.first_name">
    </div>

    <div class="form-group">
      <label for="last_name">Nom</label>
      <input type="text" name="last_name" id="last_name" class="form-control" [(ngModel)]="user.last_name">
    </div>

    <div class="form-group">
      <label for="email">E-mail</label>
      <input type="email" name="email" id="email" class="form-control" [(ngModel)]="user.email">
    </div>

    <div class="form-group">
      <label for="team">Equipe</label>
      <div>
        <em *ngIf="loading"><i class="fas fa-spin fa-spinner"></i> chargement des équipes ...</em>
        <em *ngIf="!loading && teams && teams.length === 0">aucune équipe créée</em>
      </div>
      <select [(ngModel)]="user.team.id" class="form-control" id="team" name="team" *ngIf="!loading && teams && teams.length > 0">
        <option *ngFor="let team of teams" [ngValue]="team.id">{{ team.name }}</option>
      </select>
    </div>

    <div class="btn-group">
      <button type="button" class="btn btn-outline-secondary" (click)="closeModal()">
        <i class="fas fa-arrow-left"></i> Annuler
      </button>
      <button type="submit" class="btn btn-success" [disabled]="!isValid() || submitting">
        <i [ngClass]="{'fas': true, 'fa-check': !submitting, 'fa-spin': submitting, 'fa-spinner': submitting}"></i> Valider
      </button>
    </div>
  </form>
</div>
